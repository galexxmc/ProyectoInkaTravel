<div class="mis-reservas-container">
    <h1>Mi Historial de Reservas</h1>

    <div *ngIf="isLoading" class="loading">
        Cargando historial... ✈️
    </div>

    <div *ngIf="errorMessage" class="alert-error">
        {{ errorMessage }}
    </div>

    <div *ngIf="!isLoading && !errorMessage && reservas.length > 0" class="reservas-tabla-container">
        <table>
            <thead>
                <tr>
                    <th>ID Reserva</th>
                    <th>Paquete</th>
                    <th>Fecha de Reserva</th>
                    <th>Total Pagado</th>
                    <th>Estado</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let r of reservas">
                    <td>#{{ r.id }}</td>
                    <td>{{ r.paqueteNombre }}</td>
                    <td>{{ r.fechaReserva | date:'dd/MM/yyyy' }}</td>
                    <td>S/ {{ r.total }}</td>
                    <td>
                        <span class="estado" [ngClass]="{
                            'estado-confirmada': r.estado === 'CONFIRMADA',
                            'estado-pendiente': r.estado === 'PENDIENTE',
                            'estado-cancelada': r.estado === 'CANCELADA'
                        }">
                            {{ r.estado }}
                        </span>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <div *ngIf="!isLoading && reservas.length === 0" class="no-reservas">
        <p>Aún no has realizado ninguna reserva.</p>
        <a routerLink="/paquetes" class="btn-primary">Explorar Catálogo</a>
    </div>
</div>